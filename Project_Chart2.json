{
    "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
  
    "description": "Basic 2018 Human Freedom by Country",
  
     "title": {
      "text": "Human Freedom Index against GDP Growth",
      "subtitle":"",
      "subtitleFontStyle":"italic",
      "subtitleFontSize":10,
      "anchor": "start",
      "color": "black"
    },
    
    "data": {"url": "Project_Data_Megasheet.csv", "format": {"type": "csv"}},
    "transform": [{"filter": "datum.year==Year"}, {"filter": "datum.DI>minDI"},{"filter": "datum.DI<maxDI"}],
  
    "height": 300,
    "width": 245,
    "background": null,
  
    "params": [
      {"name": "Year", "value": 2018, "bind": {"input": "range", "min": 2008, "max": 2018, "step": 2}},
      {"name": "minDI", "value": 0, "bind": {"input": "range", "min": 0, "max": 10, "step": 0.1}},
      {"name": "maxDI", "value": 10, "bind": {"input": "range", "min": 0, "max": 10, "step": 0.1}} ],
  
    "layer": [
    {"mark": {"type": "point", "point": false, "interpolate": "monotone"},
    "encoding": {"color": {"field": "DI", "type": "quantitative", "scale": {"domain": [10,0], "scheme":"turbo"}}}
    },   
    {"mark": {"type": "line", "color": "blue"}, 
    "transform": [{"regression": "HFI 2018", "on": "GDP-GROWTH", "method": "linear"}]}
  
  
    ],
  
  
    "encoding": {
      "x": {
        "field": "GDP-GROWTH",
        "type": "quantitative",
        "scale":{"domain":[-10, 15]},
        "axis": {
          "title": "GDP Growth (%)",
          "grid": false,
          "labelSeparation": 20,
          "ticks": false
        }
      },
      "y": {
        "field": "HFI 2018",
        "type": "quantitative",
        "title": "Index",
        "axis": {"grid": false},
        "scale":{"domain":[3.5, 9.5]}
      },
      "tooltip": {"field": "country", "type": "nominal"},
      "size": {
        "field": "POP 2018",
        "type": "quantitative",
        "legend": null}
  
      
    
                   
    
    }
  }